(function(){"use strict";var e={2227:function(e,t,n){var i=n(9242),a=n(3396);function r(e,t,n,i,r,o){const s=(0,a.up)("MapLocator");return(0,a.wg)(),(0,a.j4)(s)}var o=n(7139);const s={class:"content-wrapper"},l={class:"row text-center align-items-center"},h={class:"col col-md-7 order-md-1 col-12 order-2 google-map-wrapper"},d={class:"col col-md-5 order-md-2 col-12 mb-3 order-1"},c=(0,a._)("div",{class:"row justify-content-center p-3"},[(0,a._)("div",{class:"col col-10"},[(0,a._)("h2",null,"Weather Discovery Map"),(0,a._)("p",{class:"small"}," Select a point on the map, or drag marker to a new position, to find real-time data on the local weather ")])],-1),g={class:"col col-md-5 col-6 my-2"},m={class:"badge badge-primary w-100 px-3 py-2"},p={class:"col col-md-7 col-6 my-2 weather-data"};function u(e,t,n,i,r,u){return(0,a.wg)(),(0,a.iD)("div",s,[(0,a._)("div",l,[(0,a._)("div",h,[(0,a._)("div",{id:"google-map",style:(0,o.j5)(`width: ${r.mapDimensions.width}; height: ${r.mapDimensions.height}; position: relative; overflow: hidden;`)},null,4)]),(0,a._)("div",d,[c,r.weather?((0,a.wg)(!0),(0,a.iD)(a.HY,{key:0},(0,a.Ko)(r.weather,((e,t)=>((0,a.wg)(),(0,a.iD)("div",{class:"row justify-content-center mx-3",key:t},[(0,a._)("div",g,[(0,a._)("span",m,(0,o.zw)(t),1)]),(0,a._)("div",p,(0,o.zw)(r.loading?"---":e),1)])))),128)):(0,a.kq)("",!0)])])])}var w=n(1528),f=n(6265),v=n.n(f),y={data(){return{googleApiKey:"AIzaSyB41Bg4t97fmYwKs3MEL9DmicL53xQKpAY",weatherApiKey:"6d78fcf2b6ddf4f00ae680a37639b3d6",latlng:{lat:40.76575889443308,lng:-111.89062013069112},map:null,mapDimensions:{width:"58.333vw",height:"100vh"},windowWidth:0,marker:null,loading:!1,weather:null}},mounted(){this.onResize(),window.addEventListener("resize",this.onResize);new w.aN({apiKey:this.googleApiKey,version:"weekly",libraries:["places"]}).load().catch((e=>{console.warn("Err loading map: ",e)})).finally((()=>{this.loadGoogleMap()}))},methods:{onResize(){this.windowWidth=window.innerWidth,this.windowWidth<=768?(this.mapDimensions.width="90vw",this.mapDimensions.height="35vh"):(this.mapDimensions.width="58.333vw",this.mapDimensions.height="100vh")},loadGoogleMap(){this.map=new google.maps.Map(document.getElementById("google-map"),{center:this.latlng,zoom:10,gestureHandling:"none"}),this.setMarker(this.latlng),google.maps.event.addListener(this.map,"click",(e=>{this.latlng={lat:e.latLng.lat(),lng:e.latLng.lng()},this.setMarker(e.latLng),this.map.setCenter(this.latlng)}))},setMarker(e){this.marker?this.marker.setPosition(e):(this.marker=new google.maps.Marker({position:e,map:this.map,draggable:!0}),google.maps.event.addListener(this.marker,"dragend",(e=>{this.latlng={lat:this.marker.getPosition().lat(),lng:this.marker.getPosition().lng()},this.map.setCenter(this.latlng),this.getWeatherData()}))),this.getWeatherData()},getWeatherData(){this.loading=!0,v().get(`http://api.openweathermap.org/data/2.5/weather?lat=${this.latlng.lat}&lon=${this.latlng.lng}&units=imperial&appid=${this.weatherApiKey}`).then((e=>{this.weather={Location:e.data.name,Condition:e.data.weather[0].main,Temperature:`${e.data.main.temp} F`,Humidity:`${e.data.main.humidity}%`,Sunrise:this.toDateString(e.data.sys.sunrise),Sunset:this.toDateString(e.data.sys.sunset),"Wind Speed":`${e.data.wind.speed} mph`,"Wind Direction":`${e.data.wind.deg} degrees`}})).catch((e=>{console.warn("Error fetching weather data: ",e)})).finally((()=>{this.loading=!1}))},toDateString(e){return new Date(1e3*e).toLocaleString("en-US",{hour:"numeric",minute:"numeric",timeZone:"America/Denver",timeZoneName:"short"})}}},k=n(89);const D=(0,k.Z)(y,[["render",u]]);var b=D,_={name:"App",components:{MapLocator:b}};const L=(0,k.Z)(_,[["render",r]]);var M=L;(0,i.ri)(M).mount("#app")}},t={};function n(i){var a=t[i];if(void 0!==a)return a.exports;var r=t[i]={exports:{}};return e[i](r,r.exports,n),r.exports}n.m=e,function(){var e=[];n.O=function(t,i,a,r){if(!i){var o=1/0;for(d=0;d<e.length;d++){i=e[d][0],a=e[d][1],r=e[d][2];for(var s=!0,l=0;l<i.length;l++)(!1&r||o>=r)&&Object.keys(n.O).every((function(e){return n.O[e](i[l])}))?i.splice(l--,1):(s=!1,r<o&&(o=r));if(s){e.splice(d--,1);var h=a();void 0!==h&&(t=h)}}return t}r=r||0;for(var d=e.length;d>0&&e[d-1][2]>r;d--)e[d]=e[d-1];e[d]=[i,a,r]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,i){var a,r,o=i[0],s=i[1],l=i[2],h=0;if(o.some((function(t){return 0!==e[t]}))){for(a in s)n.o(s,a)&&(n.m[a]=s[a]);if(l)var d=l(n)}for(t&&t(i);h<o.length;h++)r=o[h],n.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return n.O(d)},i=self["webpackChunkweather_locator"]=self["webpackChunkweather_locator"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var i=n.O(void 0,[998],(function(){return n(2227)}));i=n.O(i)})();
//# sourceMappingURL=app.31dad833.js.map