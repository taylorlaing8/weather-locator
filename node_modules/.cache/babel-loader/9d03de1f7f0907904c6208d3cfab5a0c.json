{"ast":null,"code":"import { Loader } from '@googlemaps/js-api-loader';\nimport axios from 'axios';\nexport default {\n  data() {\n    return {\n      googleApiKey: 'AIzaSyB41Bg4t97fmYwKs3MEL9DmicL53xQKpAY',\n      weatherApiKey: '6d78fcf2b6ddf4f00ae680a37639b3d6',\n      latlng: {\n        lat: 40.76575889443308,\n        lng: -111.89062013069112\n      },\n      map: null,\n      marker: null,\n      weather: null\n    };\n  },\n\n  mounted() {\n    var mapLoader = new Loader({\n      apiKey: this.googleApiKey,\n      version: \"weekly\",\n      libraries: [\"places\"]\n    }).load().catch(err => {\n      console.warn('Err loading map: ', err);\n    }).finally(() => {\n      this.loadGoogleMap();\n    });\n  },\n\n  computed: {\n    toDateString(unixString) {\n      return new Date(unixString * 1000).toLocaleString(\"en-US\", {\n        hour: \"numeric\",\n        minute: \"numeric\",\n        timeZoneName: \"short\"\n      });\n    }\n\n  },\n  methods: {\n    loadGoogleMap() {\n      this.map = new google.maps.Map(document.getElementById(\"google-map\"), {\n        center: this.latlng,\n        zoom: 10,\n        gestureHandling: 'none'\n      });\n      this.setMarker(this.latlng);\n      google.maps.event.addListener(this.map, \"click\", e => {\n        this.latlng = {\n          lat: e.latLng.lat(),\n          lng: e.latLng.lng()\n        };\n        this.setMarker(e.latLng);\n        this.map.setCenter(this.latlng);\n      });\n    },\n\n    setMarker(location) {\n      if (this.marker) {\n        this.marker.setPosition(location);\n      } else {\n        this.marker = new google.maps.Marker({\n          position: location,\n          map: this.map,\n          draggable: true\n        });\n        google.maps.event.addListener(this.marker, 'dragend', data => {\n          this.latlng = {\n            lat: this.marker.getPosition().lat(),\n            lng: this.marker.getPosition().lng()\n          };\n          this.map.setCenter(this.latlng);\n        });\n      }\n\n      this.getWeatherData();\n    },\n\n    getWeatherData() {\n      axios.get(`http://api.openweathermap.org/data/2.5/weather?lat=${this.latlng.lat}&lon=${this.latlng.lng}&units=imperial&appid=${this.weatherApiKey}`).then(res => {\n        console.log(res.data, res.data.sys.sunrise.toString());\n        this.weather = {\n          'Location': res.data.name,\n          'Condition': res.data.weather[0].main,\n          'Temperature': `${res.data.main.temp} F`,\n          'Humidity': `${res.data.main.humidity}%`,\n          'Sunrise': this.toDateString(res.data.sys.sunrise),\n          'Sunset': res.data.sys.sunset,\n          'Wind Speed': `${res.data.wind.speed} mph`,\n          'Wind Direction': `${res.data.wind.deg} degrees`\n        };\n      }).catch(err => {\n        console.warn('Error fetching weather data: ', err);\n      });\n    }\n\n  }\n};","map":{"version":3,"mappings":"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","names":["Loader","axios","data","googleApiKey","weatherApiKey","latlng","lat","lng","map","marker","weather","mounted","mapLoader","apiKey","version","libraries","load","catch","err","console","warn","finally","loadGoogleMap","computed","toDateString","unixString","Date","toLocaleString","hour","minute","timeZoneName","methods","google","maps","Map","document","getElementById","center","zoom","gestureHandling","setMarker","event","addListener","e","latLng","setCenter","location","setPosition","Marker","position","draggable","getPosition","getWeatherData","get","then","res","log","sys","sunrise","toString","name","main","temp","humidity","sunset","wind","speed","deg"],"sourceRoot":"","sources":["/Users/taylorlaing/Desktop/Laing Development/GitHub/weather-locator/src/components/MapLocator.vue"],"sourcesContent":["<template>\n    <div class=\"content-wrapper\">\n        <div class=\"row\">\n            <div class=\"col col-6\">\n                <div id=\"google-map\"></div>\n            </div>\n            <div class=\"col col-6\">\n                <div class=\"row\" v-for=\"(item, key) of weather\" :key=\"key\">\n                    <div class=\"col col-4\">\n                        {{key}}\n                    </div>\n                    <div class=\"col col-8\">\n                        {{item}}\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport { Loader } from '@googlemaps/js-api-loader';\nimport axios from 'axios';\n\nexport default {\n  data() {\n      return {\n          googleApiKey: 'AIzaSyB41Bg4t97fmYwKs3MEL9DmicL53xQKpAY',\n          weatherApiKey: '6d78fcf2b6ddf4f00ae680a37639b3d6',\n          latlng: {\n            lat: 40.76575889443308,\n            lng: -111.89062013069112\n          },\n          map: null,\n          marker: null,\n          weather: null\n      }\n  },\n\n  mounted() {\n    var mapLoader = new Loader({\n        apiKey: this.googleApiKey,\n        version: \"weekly\",\n        libraries: [\"places\"]\n    }).load()\n    .catch(err => {\n        console.warn('Err loading map: ', err)\n    })\n    .finally(() => {\n        this.loadGoogleMap();\n    });\n  },\n\n  computed: {\n      toDateString(unixString) {\n         return new Date(unixString * 1000).toLocaleString(\"en-US\", {hour: \"numeric\", minute: \"numeric\", timeZoneName: \"short\"});\n      }\n  },\n\n  methods: {\n    loadGoogleMap() {\n        this.map = new google.maps.Map(document.getElementById(\"google-map\"), {\n              center: this.latlng,\n              zoom: 10,\n              gestureHandling: 'none'\n        });\n        this.setMarker(this.latlng);\n        google.maps.event.addListener(this.map, \"click\", (e) => {\n            this.latlng = {\n                lat: e.latLng.lat(),\n                lng: e.latLng.lng()\n            }\n            this.setMarker(e.latLng);\n            this.map.setCenter(this.latlng);\n        });\n    },\n    setMarker(location) {\n        if (this.marker) {\n            this.marker.setPosition(location);\n        } else {\n             this.marker = new google.maps.Marker({\n                position: location,\n                map: this.map,\n                draggable: true\n            });\n            google.maps.event.addListener(this.marker, 'dragend', data => { \n                this.latlng = {\n                    lat: this.marker.getPosition().lat(),\n                    lng: this.marker.getPosition().lng()\n                }\n                this.map.setCenter(this.latlng);\n            });\n        }\n\n        this.getWeatherData()\n    },\n    getWeatherData() {\n        axios.get(`http://api.openweathermap.org/data/2.5/weather?lat=${this.latlng.lat}&lon=${this.latlng.lng}&units=imperial&appid=${this.weatherApiKey}`)\n        .then(res => {\n            console.log(res.data, res.data.sys.sunrise.toString())\n            this.weather = {\n                'Location': res.data.name,\n                'Condition': res.data.weather[0].main,\n                'Temperature': `${res.data.main.temp} F`,\n                'Humidity': `${res.data.main.humidity}%`,\n                'Sunrise': this.toDateString(res.data.sys.sunrise),\n                'Sunset': res.data.sys.sunset,\n                'Wind Speed': `${res.data.wind.speed} mph`,\n                'Wind Direction': `${res.data.wind.deg} degrees`\n            }\n        }).catch(err => {\n            console.warn('Error fetching weather data: ', err);\n        })\n    }\n  }\n}\n</script>\n\n<style type=\"text/scss\">\n#google-map {\n    height: 800px;\n    width: 800px;\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}